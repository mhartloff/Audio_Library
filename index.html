<!DOCTYPE html>
<HEAD>
    <title> Audio Test</title>
</HEAD>
<BODY onload="onLoad();">

	<script src="Javascript/WebAudio.js"></script>
	<script src="Javascript/Canvas2D.js"></script>

	<script>
		var canvas = null;

		function onLoad() {
			WebAudio.init();
			WebAudio.load("Sounds/owl.wav", "owl");
			WebAudio.load("Sounds/bird1.wav", "bird1");
			WebAudio.load("Sounds/bird2.wav", "bird2");
			WebAudio.load("Sounds/sword.wav", "sword");
			WebAudio.load("Sounds/AnMP3.mp3", "mp3");
			WebAudio.load("Sounds/Scream.wav", "Scream");
			//WebAudio.load("Sounds/Laugh.wav", "Laugh");
			//WebAudio.load("Sounds/Talking.wav", "Talking");

			this.canvas = new Canvas2D(document.getElementById("canvas_2d"));

		}
                
		function playSound(alias) {
			var sound = new Sound(WebAudio.get(alias));
			if (alias == 'bird1')
				sound.temp = true;
			sound.play();
			var div = document.getElementById("sound_info");
			sound.source.displayInfo(div);
			sound.source.drawOnCanvas(this.canvas);
			
		}

	</script>
    
	NEW PAGE!!
	<br />
	<br />
	Delay: <input type="text" id="delay" value="0.5" /><br />
	<input type="button" value="OWL" onclick="playSound('owl');" /><br />
	<input type="button" value="BIRD 1" onclick="playSound('bird1');" /><br />
	<input type="button" value="BIRD 2" onclick="playSound('bird2');" /><br />
	<input type="button" value="SWORD" onclick="playSound('sword');" /><br />
	<input type="button" value="MP3" onclick="playSound('mp3');" /><br />
	<input type="button" value="Scream" onclick="playSound('Scream');" /><br />
	Volume: <input type="range" min="0" max="1" step="0.1" value="1" oninput="getElementById('volOutput').innerText = value; WebAudio.setGain(value);" /><span id="volOutput">1</span><br />
	Panning: <input type="range" min="-1" max="1" step="0.1" value="0" oninput="getElementById('panOutput').innerText = value; WebAudio.setBalance(value);" /><span id="panOutput">0</span><br />
	<br />
	
	<br />Sound Info: <br /><div id="sound_info"></div>
	<canvas id="canvas_2d" width="20000" height="300" tabindex="2">Does not support canvas</canvas>
</BODY>

